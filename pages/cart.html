<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/cart.css">
    <title>Giỏ hàng - Morico</title>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo">
                <img src="../assets/image/login/logo.png" alt="Logo Morico" class="logo-img">
                <span>Morico</span>
            </div>
            <div class="search-bar">
                <input type="text" placeholder="Bạn muốn tìm bánh gì...">
                <button>
                    <svg xmlns="../assets/external/www.w3.org/2000/svg_file" viewBox="0 0 24 24">
                        <path d="M21.71 20.29l-3.387-3.387A8.958 8.958 0 0019 11a9 9 0 10-9 9 
                        8.958 8.958 0 005.903-1.677l3.387 3.387a1 1 0 001.414-1.414zM4 
                        11a7 7 0 1114 0 7 7 0 01-14 0z"/>
                    </svg>
                </button>
            </div>
            <div class="search-results"></div>

            <div class="icon-group">
                <a href="cart.html" class="icon-link" id="cartLink">
                    <svg xmlns="../assets/external/www.w3.org/2000/svg_file" viewBox="0 0 24 24">
                        <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 
                        2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 
                        2S15.9 22 17 22s2-.9 2-2-.9-2-2-2zM7.16 
                        14l.84-2h8.99c.89 0 1.67-.58 1.93-1.42l1.96-6.16A1 
                        1 0 0019 3H6.21l-.94-2H1v2h3l3.6 
                        7.59-1.35 3.32A1.99 1.99 0 006 17h12v-2H7.42a.5.5 0 
                        01-.47-.34L7.16 14z"/>
                    </svg>
                    <span id="cartCountBadge" class="cart-count">0</span>
                </a>
                <div class="user-menu">
                    <svg xmlns="../assets/external/www.w3.org/2000/svg_file" viewBox="0 0 24 24" class="user-icon" id="userIcon">
                        <path d="M12 12c2.7 0 4.9-2.2 
                        4.9-4.9S14.7 2.2 12 2.2 7.1 4.4 7.1 
                        7.1 9.3 12 12 12zm0 2.4c-3.3 0-9.8 
                        1.7-9.8 4.9V22h19.6v-2.7c0-3.2-6.5-4.9-9.8-4.9z"/>
                    </svg>
                    <div class="dropdown" id="userDropdown"></div>
                </div>
            </div>
        </div>

        <nav class="nav-bar">
            <a href="../index.html">TRANG CHỦ</a>
            <a href="about.html">GIỚI THIỆU</a> 
            <a href="product.html">SẢN PHẨM</a>
        </nav>
        <h1 class="page-title">GIỎ HÀNG CỦA BẠN</h1>
    </header>
    
    <div id="cart-container">
        <div class="select-all" id="select-all-container" style="display: none;">
            <div>
                <input type="checkbox" id="select-all" onchange="toggleSelectAll()">
                <label for="select-all">Chọn tất cả</label>
            </div>
            <button onclick="clearCart()" class="remove-btn">Xóa giỏ hàng</button>
        </div>
        
        <div class="cart-header">
            <div>Sản phẩm</div>
            <div>Đơn giá</div> 
            <div>Số lượng</div>
            <div>Tổng tiền</div>
            <div>Thao tác</div>
        </div>
        
        <div id="cart-items-list">
             <div id="empty-cart-message" class="empty-cart" style="display: none;">
                <svg xmlns="../assets/external/www.w3.org/2000/svg_file" viewBox="0 0 24 24">
                    <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zM7.16 14l.84-2h8.99c.89 0 1.67-.58 1.93-1.42l1.96-6.16A1 1 0 0019 3H6.21l-.94-2H1v2h3l3.6 7.59-1.35 3.32A1.99 1.99 0 006 17h12v-2H7.42a.5.5 0 01-.47-.34L7.16 14z"/>
                </svg>
                <p>Giỏ hàng của bạn đang trống</p>
                <a href="product.html" style="display: inline-block; margin-top: 15px; padding: 10px 20px; background-color: #8B0000; color: white; text-decoration: none; border-radius: 5px;">Tiếp tục mua sắm</a>
            </div>
        </div>
        
        <!-- Tách riêng nút Lịch sử mua hàng khỏi summary-box -->
        <div class="history-link-container">
            <a href="history.html">Lịch sử mua hàng</a>
        </div>
        
        <div class="summary-box" id="summary-box">
            <span class="total-label">Tổng số tiền cần thanh toán:</span>
            <div class="checkout-group">
                <span class="total-amount" id="final-total">0₫</span>
                <button class="order-btn" onclick="handleCheckout()">Thanh toán</button>
            </div>
        </div>
    </div>

    <footer>
        © 2025 Morico Bakery | Hotline: 0909 123 456 | Email: contact@morico.vn
    </footer>
    
    <!-- JavaScript -->
    <script src="../assets/js/header.js"></script>
    <script src="../assets/js/cart.js"></script>
</body>
</html>